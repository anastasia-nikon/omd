# -*- coding: utf-8 -*-
import random

def game_in_game():
    code=random.randint(1,9)
    t=5
    while t>0:
        num=input('Ð§Ð¸ÑÐ»Ð¾ Ð¾Ñ‚ 1 Ð´Ð¾ 9: ')
        t = t - 1
        if num==code:
            print 'Ð£Ñ‚ÐºÐ° Ð¿ÐµÑ€ÐµÐ¶Ð´Ð°Ð»Ð° Ð³Ñ€Ð¾Ð·Ñƒ Ð¸ ÑÐ¿Ð¾ÐºÐ¾Ð¹Ð½Ð¾ Ð²ÐµÑ€Ð½ÑƒÐ»Ð°ÑÑŒ Ð´Ð¾Ð¼Ð¾Ð¹. ÐŸÐ¾Ð±ÐµÐ´Ð°.'
            break
        print 'ÐÐµÐ²ÐµÑ€Ð½Ð¾. ÐžÑÑ‚Ð°Ð»Ð¾ÑÑŒ Ð¿Ð¾Ð¿Ñ‹Ñ‚Ð¾Ðº: '+str(t)
    else: print 'Ð£Ñ‚ÐºÐ° Ð¿Ñ€Ð¾Ð¼Ð¾ÐºÐ»Ð° Ð¸ Ð·Ð°Ð¼ÐµÑ€Ð·Ð»Ð° Ð²Ð¾ Ð²Ñ€ÐµÐ¼Ñ Ð¿Ñ€Ð¾Ð³ÑƒÐ»ÐºÐ¸, Ð±ÐµÐ´Ð½Ð°Ñ ÑƒÑ‚ÐºÐ° :('

def game(step, tree):
    current_tree = tree
    print('{}'.format(current_tree[step]['text']))
    option = ''
    options = current_tree[step].get('options', None)
    while option not in options:
        print('Ð’Ñ‹Ð±ÐµÑ€Ð¸Ñ‚Ðµ: {}/{}'.format(*options))
        option = str(input().lower())
        if (step==3 or step==5) and option=='park':
            print 'Ð£Ñ‚ÐºÐ° Ð²ÐµÑÑŒ Ð´ÐµÐ½ÑŒ Ð³ÑƒÐ»ÑÐ»Ð° Ð¿Ð¾ Ð¿Ð°Ñ€ÐºÑƒ Ð¸ Ñ‡ÑƒÐ´ÐµÑÐ½Ð¾ Ð¿Ñ€Ð¾Ð²ÐµÐ»Ð° Ð²Ñ€ÐµÐ¼Ñ. ÐŸÐ¾Ð±ÐµÐ´Ð°.'
        elif step==4:
            if option=='pro': print 'Ð£Ñ‚ÐºÐ° Ð¿Ñ€Ð¾Ð³Ð¾Ð»Ð¾ÑÐ¾Ð²Ð°Ð»Ð° Ð·Ð°'
            if option=='con': print 'Ð£Ñ‚ÐºÐ° Ð¿Ñ€Ð¾Ð³Ð¾Ð»Ð¾ÑÐ¾Ð²Ð°Ð»Ð° Ð¿Ñ€Ð¾Ñ‚Ð¸Ð²'
        elif step==7 and option=='no': print 'Ð£Ñ‚ÐºÐ° Ð¿Ñ€Ð¾Ð¼Ð¾ÐºÐ»Ð° Ð¸ Ð·Ð°Ð¼ÐµÑ€Ð·Ð»Ð° Ð²Ð¾ Ð²Ñ€ÐµÐ¼Ñ Ð¿Ñ€Ð¾Ð³ÑƒÐ»ÐºÐ¸, Ð±ÐµÐ´Ð½Ð°Ñ ÑƒÑ‚ÐºÐ° :('
        elif step==8 and option=='yes': game_in_game()
        if options[option]:
            step = current_tree[step]['options'].get(option)
            return step

if __name__ == '__main__':
    step=1
    decisions_tree = {
        1: {
            'text': 'Ð£Ñ‚ÐºÐ°Ð¼Ð°Ð»ÑÑ€ ðŸ¦† Ñ€ÐµÑˆÐ¸Ð»Ð° Ð¿Ð¾Ð³ÑƒÐ»ÑÑ‚ÑŒ. Ð’Ð·ÑÑ‚ÑŒ ÐµÐ¹ Ð·Ð¾Ð½Ñ‚Ð¸Ðº? â˜‚ï¸',
            'options': {'yes':2, 'no':3}
        },
        2: {
            'text': 'Ð£Ñ‚ÐºÐ° Ð²Ð·ÑÐ»Ð° Ð·Ð¾Ð½Ñ‚ Ð¸ Ð´ÑƒÐ¼Ð°ÐµÑ‚, Ð¸Ð´Ñ‚Ð¸ Ð»Ð¸ ÐµÐ¹ Ð³Ð¾Ð»Ð¾ÑÐ¾Ð²Ð°Ñ‚ÑŒ Ð·Ð° Ð¿Ð¾Ð¿Ñ€Ð°Ð²ÐºÐ¸ Ð² ÐºÐ¾Ð½ÑÑ‚Ð¸Ñ‚ÑƒÑ†Ð¸ÑŽ?',
            'options': {'yes':4, 'no':5}
        },
        3: {
            'text': 'Ð£Ñ‚ÐºÐ° Ð½Ðµ Ð²Ð·ÑÐ»Ð° Ð·Ð¾Ð½Ñ‚. ÐšÑƒÐ´Ð° Ð¾Ð½Ð° Ð¿Ð¾Ð¹Ð´ÐµÑ‚ Ð³ÑƒÐ»ÑÑ‚ÑŒ?',
            'options': {'forest': 6, 'park': None}
        },
        4: {
            'text': 'Ð£Ñ‚ÐºÐ° Ð¿Ñ€Ð¸ÑˆÐ»Ð° Ð½Ð° Ð²Ñ‹Ð±Ð¾Ñ€Ñ‹, Ð¿Ñ€Ð¾Ð³Ð¾Ð»Ð¾ÑÑƒÐµÑ‚ Ð¾Ð½Ð° Ð·Ð° Ð¸Ð»Ð¸ Ð¿Ñ€Ð¾Ñ‚Ð¸Ð²?',
            'options': {'pro': None, 'con': None}
        },
        5: {
            'text': 'Ð£Ñ‚ÐºÐ° Ð½Ðµ Ð¸Ð´ÐµÑ‚ Ð½Ð° Ð²Ñ‹Ð±Ð¾Ñ€Ñ‹. ÐšÑƒÐ´Ð° Ð¿Ð¾Ð¹Ð´ÐµÑ‚ ÑƒÑ‚ÐºÐ° Ð² ÑÐµÐ¹ Ñ‡ÑƒÐ´ÐµÑÐ½Ñ‹Ð¹ Ð´ÐµÐ½ÑŒ?',
            'options': {'forest': 6, 'park': None}
        },
        6: {
            'text': 'Ð£Ñ‚ÐºÐ° Ð¿Ñ€Ð¸ÑˆÐ»Ð° Ð² Ð»ÐµÑ Ð¸ Ð¿Ð¾ÑˆÐµÐ» Ð´Ð¾Ð¶Ð´ÑŒ. Ð’ÑƒÑ€Ð½ÑƒÑ‚ÑŒÑÑ Ð·Ð° Ð·Ð¾Ð½Ñ‚Ð¸ÐºÐ¾Ð¼?',
            'options': {'yes': 1, 'no': 7}
        },
        7: {
            'text': 'Ð”Ð¾Ð¶Ð´ÑŒ Ð²ÑÐµ ÑƒÑÐ¸Ð»Ð¸Ð²Ð°Ð»ÑÑ, Ð¸ Ñ‚ÑƒÑ‚ ÑƒÑ‚ÐºÐ° ÑƒÐ²Ð¸Ð´ÐµÐ»Ð° Ð·Ð°Ð±Ñ€Ð¾ÑˆÐµÐ½Ð½Ñ‹Ð¹ Ð´Ð¾Ð¼. ÐŸÐ¾Ð¿Ñ€Ð¾Ð±ÑƒÐµÑ‚ Ð»Ð¸ ÑƒÑ‚ÐºÐ° ÑƒÐºÑ€Ñ‹Ñ‚ÑŒÑÑ Ð² Ð´Ð¾Ð¼Ðµ?',
            'options': {'yes': 8, 'no': None}
        },
        8: {
            'text': 'ÐÐ° Ð´Ð²ÐµÑ€Ð¸ Ð²Ð¸ÑÐ¸Ñ‚ ÐºÐ¾Ð´Ð¾Ð²Ñ‹Ð¹ Ð·Ð°Ð¼Ð¾Ðº. Ð§Ñ‚Ð¾Ð±Ñ‹ ÐµÐ³Ð¾ Ð¾Ñ‚ÐºÑ€Ñ‹Ñ‚ÑŒ, ÑƒÑ‚ÐºÐµ Ð½ÑƒÐ¶Ð½Ð¾ ÑƒÐ³Ð°Ð´Ð°Ñ‚ÑŒ Ñ‡Ð¸ÑÐ»Ð¾ Ð¾Ñ‚ 1 Ð´Ð¾ 9 Ñ 5 Ð¿Ð¾Ð¿Ñ‹Ñ‚Ð¾Ðº.',
            'options': {'yes': None, 'no': None}
        }
    }

while step>0:
    step=game(step, decisions_tree)
print 'ÐºÐ¾Ð½ÐµÑ†'
